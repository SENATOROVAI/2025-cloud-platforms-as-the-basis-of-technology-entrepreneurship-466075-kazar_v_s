# Лабораторная работа №2  
## Исследование Cloud Run  

---

**University:** [ITMO University](https://itmo.ru/ru/)  
**Faculty:** [FICT](https://fict.itmo.ru)  
**Course:** Облачные платформы как основы технологического предпринимательства  
**Year:** 2025  
**Group:** 466075  
**Author:** Казар Владимир Сергеевич  
**Lab:** Lab2  
**Date of create:** 12.02.2025  
**Date of finished:** —  

---

## Примечание:
Все скриншоты, подтверждающие выполнение этапов лабораторной работы, размещены в папке **images** внутри каталога Lab_2

# 1. Цель работы

Ознакомиться с принципами работы сервиса Google Cloud Run, изучить процесс развертывания контейнерного приложения, а также проанализировать работу логирования, метрик и механизма управления трафиком между ревизиями

---

# 2. Теоретическая часть

Cloud Run — полностью управляемый сервис для запуска контейнеров в среде Google Cloud без управления инфраструктурой.

Основные возможности:

- Автоматическое масштабирование
- Оплата по факту использования
- Управление версиями (Revisions)
- Распределение трафика (Traffic Splitting)

---

# 3. Практическая часть

## 3.1 Создание сервиса

В рамках лабораторной работы был создан сервис lab2-hello на основе стандартного контейнера Hello.

Основные параметры конфигурации:

Deployment source: Container image

Использован sample container Google

Region: europe-west1

Billing: Request-based

Scaling: Auto scaling (minimum instances = 0)

Разрешен публичный доступ

Скриншоты:

Форма создания сервиса

Успешное развертывание сервиса

## 3.2 Тестирование сервиса

После развертывания был открыт публичный URL сервиса.

Сервис успешно отвечает и отображает стандартную страницу "It's running!", что подтверждает корректную работу контейнера в среде Cloud Run.

Скриншот:

Открытая страница сервиса в браузере

## 3.3 Анализ логов

В разделе Observability → Logs были проанализированы журналы работы сервиса.

При каждом обращении к URL фиксируется HTTP-запрос, а также информация о статусе выполнения (код 200).

Скриншот:

Просмотр логов сервиса

## 3.4 Анализ метрик

В разделе Observability → Metrics были проанализированы следующие показатели:

Количество запросов (Request count)

Использование CPU

Использование памяти

Количество инстансов

Метрики подтверждают автоматическое масштабирование и корректную обработку запросов.

Скриншот:

Графики метрик сервиса

## 3.5 Изменение конфигурации порта

Была создана новая ревизия сервиса с изменением порта контейнера с 8080 на 8090.

Cloud Run автоматически создал новую ревизию, которая получила собственный идентификатор.

Скриншоты:

Новая ревизия с портом 8090

Список ревизий сервиса

## 3.6 Управление версиями и трафиком

Было выполнено распределение трафика между двумя ревизиями сервиса.

Трафик был разделен в пропорции 50% на 50%, что позволило протестировать работу механизма управления версиями.

Cloud Run корректно распределяет входящие запросы между ревизиями.

Скриншоты:

Настройка распределения трафика

Отображение 50/50 в списке ревизий

---

## Удаление сервиса

После завершения лабораторной работы сервис Cloud Run был удалён.

Проверено отсутствие активных сервисов в разделе Cloud Run.

Скриншот:

Подтверждение удаления сервиса

---

# 4. Вывод

В ходе лабораторной работы были изучены основные возможности сервиса Cloud Run:

1. Развертывание контейнерного приложения

2. Автоматическое масштабирование

3. Работа с логами и метриками

4. Создание ревизий

5. Управление трафиком между версиями

6. Корректное удаление ресурсов

Практическая часть позволила получить понимание принципов работы serverless-архитектуры и механизмов управления контейнеризированными приложениями в Google Cloud.
