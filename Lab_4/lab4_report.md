# Лабораторная работа №4  
## Разработка инфраструктуры MVP AI-приложения  

---

**University:** [ITMO University](https://itmo.ru/ru/)  
**Faculty:** [FICT](https://fict.itmo.ru)  
**Course:** Облачные платформы как основы технологического предпринимательства  
**Year:** 2025  
**Group:** 466075  
**Author:** Казар Владимир Сергеевич  
**Lab:** Lab4  
**Date of create:** 12.02.2025  
**Date of finished:** —  

---

## Примечание:
Все скриншоты и xml файл со схемой, подтверждающие выполнение этапов лабораторной работы, размещены в папке **images** внутри каталога Lab_4


---

# 1. Цель работы

Разработать архитектуру MVP AI-приложения для анализа изображений, спроектировать инфраструктуру в Google Cloud Platform, рассчитать экономическую модель и обосновать выбор используемых сервисов

---

# 2. Описание MVP-приложения

Функциональность приложения:

1. Пользователь загружает изображение через веб-интерфейс

2. Изображение сохраняется в облачное хранилище

3. Выполняется анализ изображения через Cloud Vision API

4. Пользователь получает результат анализа в формате JSON

Пример анализа:

- Распознавание объектов

- Определение текста (OCR)

- Определение меток (labels)

- Анализ содержимого

---

# 3. Архитектура инфраструктуры

Архитектура реализована в формате serverless для минимизации операционных затрат и упрощения масштабирования.

Схема архитектуры представлена в папке Lab_4/images

---

# 4. Логика работы системы

1. Пользователь отправляет HTTPS-запрос с изображением.

2. Запрос поступает в Cloud Run (Backend API).

3. Cloud Run:

- Сохраняет изображение в Cloud Storage (Image Bucket).

- Отправляет изображение на анализ в Cloud Vision API.

4. Cloud Vision API возвращает JSON-результат анализа.

5. Cloud Run возвращает результат пользователю в виде HTTPS-ответа

## 5 Используемые сервисы
# 5.1 Cloud Run
Используется как backend API
Преимущества:
1. Полностью serverless

2. Автоматическое масштабирование

3. Оплата только за фактическое использование

Не требует управления серверами

# 5.2 Cloud Storage 
Используется для хранения изображений

Преимущества:
1. Объектное хранилище

2. Высокая отказоустойчивость

3. Простое управление доступом

4. Масштабируемость

# 5.3 Cloud Vision API
Используется для анализа изображений

Преимущества:
1. Готовая AI-модель

2. Не требует обучения

3. Высокая точность

4. Быстрая интеграция через REST API

---

# 6. Стадии развития приложения

Приложение рассматривается в трёх состояниях

# 6.1 Стадия 1 — Начальная (MVP)
Предполагаемая нагрузка:

- До 20–50 запросов в день

Инфраструктура:

1. 1 сервис Cloud Run

2. 1 bucket Cloud Storage

3. Cloud Vision API по запросу

Особенности:

1. Минимальные расходы

2. Быстрый запуск

3. Проверка гипотезы
---

# 6.2 Стадия 2 — Тестирование партнерами

Предполагаемая нагрузка:

- 100–500 запросов в день

Изменения:

1. Настройка минимального количества инстансов в Cloud Run

2. Добавление логирования и мониторинга

3. Возможное сохранение результатов анализа

Особенности:

- Более стабильная работа

- Контроль производительности

- Улучшенная отказоустойчивость

# 6.3 Стадия 3 — Продакшн

Предполагаемая нагрузка:

- 5 000+ запросов в день

Дополнительные улучшения:

1. Настройка авто-масштабирования

2. Использование CDN

3. Включение кэширования

4. Разделение backend и API

5. Возможное использование очередей (Pub/Sub)

Особенности:

- Высокая отказоустойчивость

- Масштабируемость

- Оптимизация затрат
---

# 7. Экономическая модель

Расчеты являются ориентировочными и основаны на модели pay-as-you-go Google Cloud

# 7.1 MVP (50 запросов в день)

- Cloud Run

5–10 USD
≈ 475–950 рублей / месяц

- Cloud Storage

< 1 USD
≈ до 95 рублей / месяц

- Cloud Vision API

2–5 USD
≈ 190–475 рублей / месяц
--------------------------
Итого MVP:

10–15 USD
≈ 950–1425 рублей / месяц
Это минимальный бюджет для запуска и тестирования гипотезы

# 7.2 Партнерское тестирование (500 запросов в день)

Примерная нагрузка:
≈ 15 000 запросов в месяц

- Cloud Run

15–25 USD
≈ 1425–2375 рублей / месяц

- Cloud Storage

2–5 USD
≈ 190–475 рублей / месяц

- Cloud Vision API

15–30 USD
≈ 1425–2850 рублей / месяц
------------------------------
Итого (Партнерский этап):
40–60 USD
≈ 3800–5700 рублей / месяц

На этом этапе расходы увеличиваются из-за роста числа запросов и необходимости стабильности сервиса

Анализ масштабируемости и экономической эффективности предложенной архитектуры

# 7.3 Продакшн (5000+ запросов в день)

Примерная нагрузка:
≈ 150 000 запросов в месяц

- Cloud Run

50–150 USD
≈ 4750–14 250 рублей / месяц

- Cloud Storage

10–30 USD
≈ 950–2850 рублей / месяц

- Cloud Vision API

150–300 USD
≈ 14 250–28 500 рублей / месяц
--------------------------------
Итого (Production):
250–500 USD
≈ 23 750–47 500 рублей / месяц

На продакшн-этапе основную долю расходов составляет использование AI API

## 8 Обоснование выбора сервисов

Почему serverless?

1. Нет необходимости управлять серверами

2. Минимальные DevOps-затраты

3. Быстрое масштабирование

4. Оплата только за использование

Почему Cloud Vision API?

1. Не требуется обучение собственной модели

2. Быстрая интеграция

3. Снижение Time-to-Market

Почему Cloud Storage?

1. Надежное хранение изображений

2. Простая интеграция с Vision API

3. Поддержка публичных и приватных режимов

## 9 Вывод

В рамках лабораторной работы была разработана архитектура MVP AI-приложения для анализа изображений.

Была спроектирована масштабируемая serverless-инфраструктура, рассчитана экономическая модель для трёх стадий развития и обоснован выбор облачных сервисов.

Выбранное решение является:

- Гибким

- Масштабируемым

- Экономически обоснованным

- Подходящим для быстрого запуска стартапа